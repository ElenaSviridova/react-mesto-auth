{"version":3,"sources":["images/logo.svg","components/Header.js","images/edit-button.svg","images/plus.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/Close-Icon.svg","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/auth.js","images/wrong-icon.svg","images/sucsess-icon.svg","components/InfoToolip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","caption","handleHeaderClick","className","src","logo","alt","type","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","name","link","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","handleLogout","avatar","editButtonPath","about","addButtonPath","map","Footer","Date","getFullYear","ImagePopup","onClose","closeIconPath","api","adress","token","this","_adress","_token","response","ok","json","Promise","reject","Error","status","fetch","headers","authorization","then","_getResponseData","profileName","profileAbout","method","body","JSON","stringify","data","id","cardId","avatarLink","PopupWithForm","title","children","isOpen","buttonText","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","placeholder","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","Login","handleLogin","password","setData","handleChange","required","Register","handleRegister","to","ProtectedRoute","Component","component","props","loggedIn","BASE_URL","checkResponse","InfoToolip","fail","failIconPath","sucsessIconPath","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setFail","isModalPopupOpen","setisModalPopupOpen","setEmail","all","getInitialCards","getProfileInfo","userData","catch","handleError","localStorage","getItem","auth","res","checkToken","history","push","useHistory","error","console","closeAllPopups","Provider","changeProfileInfo","addCard","newCard","updateAvatar","exact","path","changeLikeCardStatus","state","c","removeCards","filter","removeItem","err","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8NAAe,MAA0B,iC,eCkB1BA,MAdf,YAAsD,IAArCC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,kBAE7B,OACI,yBAAQC,UAAU,SAAlB,UACM,qBAAKC,IAAKC,EAAMC,IAAI,oGAAoBH,UAAU,iBAClD,sBAAKA,UAAU,eAAf,UACE,sBAAMA,UAAU,gBAAhB,SAAiCH,IACjC,wBAAQO,KAAK,SAASJ,UAAU,iBAAkBK,QAASN,EAA3D,SAAgFD,WCXjF,MAA0B,wCCA1B,MAA0B,iCCE5BQ,EAAqBC,IAAMC,gBC8CzBC,MA7Cf,YAA8D,IAA/CC,EAA8C,EAA9CA,KAAMC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,aACpCC,EAAcP,IAAMQ,WAAWT,GAG/BU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAGvCC,EAAyB,0BACZH,EAAQ,kBAAoB,IAIzCI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAGrDM,EAAuB,wBACRJ,EAAU,uBAAyB,IAexD,OACI,0BAASpB,UAAU,UAAnB,UACI,wBAAQA,UAAWmB,EAA2Bd,QANtD,WACIQ,EAAaH,MAMT,qBAAKV,UAAU,iBAAiBG,IAAKO,EAAOA,EAAKe,KAAO,GAAIxB,IAAKS,EAAKgB,KAAMrB,QAfpF,WACIM,EAAYD,MAeR,sBAAKV,UAAU,mBAAf,UACI,oBAAIA,UAAU,iBAAd,SAAgCU,EAAKe,OACrC,sBAAKzB,UAAU,gBAAf,UACI,wBAAQI,KAAK,SAASJ,UAAWwB,EAAyBnB,QAf1E,WACIO,EAAWF,MAeC,mBAAGV,UAAU,wBAAb,SAAsCU,EAAKW,MAAMM,mBCFtDC,MAhCf,YAA8H,IAA/GC,EAA8G,EAA9GA,cAAeC,EAA+F,EAA/FA,WAAaC,EAAkF,EAAlFA,aAAcpB,EAAoE,EAApEA,YAAaC,EAAuD,EAAvDA,WAAYC,EAA2C,EAA3CA,aAAcmB,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,aAAcpC,EAAQ,EAARA,MAE7GiB,EAAcP,IAAMQ,WAAWT,GAEnC,OACE,qCACE,cAAC,EAAD,CAAQT,MAAOA,EAAOE,kBAAmBkC,EAAcnC,QAAQ,mCAC/D,uBAAME,UAAU,OAAhB,UACM,0BAASA,UAAU,UAAnB,UACQ,sBAAKA,UAAU,kBAAf,UACI,qBAAKC,IAAKa,EAAYoB,OAAQ/B,IAAI,8FAAmBH,UAAU,0BAC/D,qBAAKK,QAAS0B,EAAc9B,IAAKkC,EAAgBhC,IAAI,6HAAyBH,UAAU,6BAE5F,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCc,EAAYW,OAC5C,wBAAQpB,QAASwB,EAAezB,KAAK,SAASJ,UAAU,uBAAxD,SACE,qBAAKC,IAAKkC,EAAgBhC,IAAI,mIAA0BH,UAAU,iCAEpE,mBAAGA,UAAU,oBAAb,SAAkCc,EAAYsB,WAEhD,wBAAQ/B,QAASyB,EAAY1B,KAAK,SAASJ,UAAU,sBAArD,SACI,qBAAKC,IAAKoC,EAAelC,IAAI,4EAAgBH,UAAU,mCAGnE,yBAASA,UAAU,WAAnB,SACKgC,EAAMM,KAAI,SAAC5B,GAAD,OAAW,cAAC,EAAD,CAAqBC,YAAaA,EAAaD,KAAMA,EAAME,WAAYA,EAAYC,aAAcA,GAAtFH,EAAKQ,iBCzBzCqB,MARf,WACI,OACI,wBAAQvC,UAAU,SAAlB,SACQ,oBAAGA,UAAU,iBAAb,kBAAqC,IAAIwC,MAAOC,cAAhD,sBCHD,MAA0B,uCCe1BC,MAdf,YAAsC,IAAjBhC,EAAgB,EAAhBA,KAAMiC,EAAU,EAAVA,QACvB,OACI,qBAAK3C,UAAS,4BAAuBU,GAAQ,gBAA7C,SACQ,sBAAKV,UAAU,qBAAf,UACI,qBAAKC,IAAG,OAAES,QAAF,IAAEA,OAAF,EAAEA,EAAMgB,KAAMvB,IAAG,OAAEO,QAAF,IAAEA,OAAF,EAAEA,EAAMe,KAAMzB,UAAU,mBACjD,oBAAIA,UAAU,iBAAd,SAAgCU,EAAOA,EAAKe,KAAO,KACnD,wBAAQzB,UAAU,sBAAsBK,QAASsC,EAAjD,SACI,qBAAK1C,IAAK2C,EAAezC,IAAI,6HAAyBH,UAAU,8B,gBCwFzE6C,EAFH,IA9FZ,WACI,cAA8B,IAAjBC,EAAgB,EAAhBA,OAAQC,EAAQ,EAARA,MAAQ,oBACzBC,KAAKC,QAAUH,EACfE,KAAKE,OAASH,EAHtB,oDAMI,SAAiBI,GACb,OAAIA,EAASC,GACFD,EAASE,OAEbC,QAAQC,OAAO,IAAIC,MAAJ,+CAAoBL,EAASM,YAV3D,4BAaI,WACI,OAAOC,MAAM,GAAD,OAAIV,KAAKC,QAAT,aAA6B,CACrCU,QAAS,CACLC,cAAeZ,KAAKE,UAEzBW,KAAKb,KAAKc,oBAlBrB,+BAqBI,SAAkBC,EAAaC,GAC3B,OAAON,MAAM,GAAD,OAAIV,KAAKC,QAAT,aAA6B,CACrCgB,OAAQ,QACRN,QAAS,CACLC,cAAeZ,KAAKE,OACpB,eAAgB,oBAEpBgB,KAAMC,KAAKC,UAAU,CACnB3C,KAAMsC,EACN3B,MAAO4B,MAGZH,KAAKb,KAAKc,oBAjCnB,6BAoCI,WACI,OAAQJ,MAAM,GAAD,OAAIV,KAAKC,QAAT,UAAyB,CAClCU,QAAS,CACLC,cAAeZ,KAAKE,UAEzBW,KAAKb,KAAKc,oBAzCrB,qBA4CI,SAAQO,GACJ,OAAOX,MAAM,GAAD,OAAIV,KAAKC,QAAT,UAA0B,CAClCgB,OAAQ,OACRN,QAAS,CACLC,cAAcZ,KAAKE,OACnB,eAAgB,oBAEpBgB,KAAMC,KAAKC,UAAU,CACjB3C,KAAM4C,EAAK5C,KACXC,KAAM2C,EAAK3C,SAGlBmC,KAAKb,KAAKc,oBAxDnB,yBA2DI,SAAYQ,GACR,OAAQZ,MAAM,GAAD,OAAIV,KAAKC,QAAT,kBAA0BqB,GAAK,CACxCL,OAAQ,SACRN,QAAS,CACLC,cAAeZ,KAAKE,UAG3BW,KAAKb,KAAKc,oBAlEnB,kCAqEI,SAAqBS,EAAQnD,GACzB,OAAOsC,MAAM,GAAD,OAAIV,KAAKC,QAAT,wBAAgCsB,GAAU,CAClDN,OAAQ7C,EAAU,SAAW,MAC7BuC,QAAS,CACLC,cAAcZ,KAAKE,UAG1BW,KAAKb,KAAKc,oBA5EnB,0BA+EI,SAAaU,GACT,OAAOd,MAAM,GAAD,OAAIV,KAAKC,QAAT,oBAAoC,CAC5CgB,OAAQ,QACRN,QAAS,CACLC,cAAeZ,KAAKE,OACpB,eAAgB,oBAEpBgB,KAAMC,KAAKC,UAAU,CACnBlC,OAAQsC,MAGbX,KAAKb,KAAKc,sBA1FnB,KA8FY,CAAQ,CAAChB,OAAO,8CAA+CC,MAAM,yCC5ElE0B,MAhBf,YAAwF,IAAhEC,EAA+D,EAA/DA,MAAOjD,EAAwD,EAAxDA,KAAMkD,EAAkD,EAAlDA,SAAUC,EAAwC,EAAxCA,OAAQjC,EAAgC,EAAhCA,QAASkC,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,SAExE,OACI,qBAAK9E,UAAS,sBAAiByB,EAAjB,YAAyBmD,GAAU,gBAAjD,SACI,uBAAMnD,KAAMA,EAAMzB,UAAU,mBAAmB8E,SAAUA,EAAzD,UACI,wBAAQ1E,KAAK,SAASJ,UAAU,sBAAsBK,QAASsC,EAA/D,SACI,qBAAK1C,IAAK2C,EAAezC,IAAI,6HAAyBH,UAAU,wBAEpE,oBAAIA,UAAU,eAAd,SAA8B0E,IAC7BC,EACD,wBAAQvE,KAAK,SAASJ,UAAU,gBAAhC,SAAiD6E,UCkClDE,MA1Cf,YAA4D,IAAjCH,EAAgC,EAAhCA,OAAQjC,EAAwB,EAAxBA,QAASqC,EAAe,EAAfA,aACxC,EAAwBC,mBAAS,IAAjC,mBAAOxD,EAAP,KAAayD,EAAb,KACA,EAAsCD,mBAAS,IAA/C,mBAAOE,EAAP,KAAoBC,EAApB,KACMtE,EAAcP,IAAMQ,WAAWT,GA6BrC,OA1BA+E,qBAAU,WACHvE,EAAYsB,OAAStB,EAAYW,OAChCyD,EAAQpE,EAAYW,MACpB2D,EAAetE,EAAYsB,UAEhC,CAACtB,EAAa8D,IAsBb,eAAC,EAAD,CAAeF,MAAM,4HAAwBjD,KAAK,OAAOmD,OAAQA,EAASjC,QAASA,EAASkC,WAAW,yDAAYC,SAZvH,SAAsBQ,GAElBA,EAAEC,iBAGFP,EAAa,CACTvD,OACAW,MAAO+C,KAKX,UACQ,uBAAO1D,KAAK,SAAS+D,MAAO/D,EAAMrB,KAAK,OAAOkE,GAAI,eAAetE,UAAU,sCAAsCyF,YAAY,iCAAQC,SArBjJ,SAA0BJ,GACtBJ,EAAQI,EAAEK,OAAOH,UAqBT,sBAAMxF,UAAU,oCAChB,uBAAOyB,KAAK,UAAU+D,MAAOL,EAAa/E,KAAK,OAAOkE,GAAI,gBAAgBtE,UAAU,gDAAgDyF,YAAY,kCAASC,SAnBrK,SAAiCJ,GAC7BF,EAAeE,EAAEK,OAAOH,UAmBhB,sBAAMxF,UAAU,yCCjBjB4F,MArBf,YAA6D,IAAnChB,EAAkC,EAAlCA,OAAQjC,EAA0B,EAA1BA,QAASkD,EAAiB,EAAjBA,eAEjCC,EAAYC,mBAWlB,OACI,eAAC,EAAD,CAAerB,MAAM,wFAAkBjD,KAAK,SAASmD,OAAQA,EAAQjC,QAASA,EAASkC,WAAW,yDAAYC,SAVlH,SAAsBQ,GAClBA,EAAEC,iBACFM,EACMC,EAAUE,QAAQR,OAExBM,EAAUE,QAAQR,MAAM,IAKxB,UACQ,uBAAO/D,KAAK,OAAOrB,KAAK,MAAMkE,GAAI,eAAetE,UAAU,gDAAgDyF,YAAY,qGAAqBQ,IAAKH,IACjJ,sBAAM9F,UAAU,wCCejBkG,MA/Bf,YAAuD,IAA/BtB,EAA8B,EAA9BA,OAAQjC,EAAsB,EAAtBA,QAASb,EAAa,EAAbA,WAErC,EAAwBmD,mBAAS,IAAjC,mBAAOxD,EAAP,KAAayD,EAAb,KACA,EAAwBD,mBAAS,IAAjC,mBAAOvD,EAAP,KAAayE,EAAb,KAkBA,OACI,eAAC,EAAD,CAAezB,MAAM,gEAAcjD,KAAK,MAAMmD,OAAQA,EAAQjC,QAASA,EAASkC,WAAW,6CAAUC,SATzG,SAAsBQ,GAClBA,EAAEC,iBACFzD,EAAW,CACLL,KAAMA,EACNC,KAAMA,KAKZ,UACQ,uBAAOD,KAAK,OAAOrB,KAAK,OAAOkE,GAAI,mBAAmBtE,UAAU,sCAAsCyF,YAAY,mDAAWC,SAlBzI,SAA0BJ,GACtBJ,EAAQI,EAAEK,OAAOH,UAkBT,sBAAMxF,UAAU,wCAChB,uBAAOyB,KAAK,OAAOrB,KAAK,MAAMkE,GAAI,oBAAoBtE,UAAU,gDAAgDyF,YAAY,qGAAqBC,SAhB7J,SAA0BJ,GACtBa,EAAQb,EAAEK,OAAOH,UAgBT,sBAAMxF,UAAU,6C,sBCWjBoG,MArCf,YAA+B,IAAfC,EAAc,EAAdA,YACZ,EAAwBpB,mBAAS,CAC7BpF,MAAO,GACPyG,SAAU,KAFd,mBAAOjC,EAAP,KAAakC,EAAb,KAKA,SAASC,EAAalB,GAClB,MAAsBA,EAAEK,OAAjBlE,EAAP,EAAOA,KAAM+D,EAAb,EAAaA,MACbe,EAAQ,2BAAIlC,GAAL,kBACN5C,EAAO+D,KAeZ,OACI,sBAAKxF,UAAU,QAAf,UACI,oBAAIA,UAAU,eAAd,sCACA,uBAAMA,UAAU,mBAAmB8E,SAf3C,SAAsBQ,GAGlB,GAFAA,EAAEC,iBAEElB,EAAKxE,OAAUwE,EAAKiC,SAAxB,CAGA,IAAQzG,EAAoBwE,EAApBxE,MAAOyG,EAAajC,EAAbiC,SAEfD,EAAY,CAAExG,QAAOyG,eAOjB,UACI,uBAAOG,UAAQ,EAACnC,GAAG,QAAQtE,UAAU,eAAeI,KAAK,QAAQqF,YAAY,QAAQhE,KAAK,QAAQ+D,MAAOnB,EAAKxE,MAAO6F,SAAUc,IAC/H,uBAAOC,UAAQ,EAACnC,GAAG,WAAWtE,UAAU,eAAeI,KAAK,WAAWqF,YAAY,uCAAShE,KAAK,WAAW+D,MAAOnB,EAAKiC,SAAUZ,SAAUc,IAC5I,wBAAQpG,KAAK,SAASJ,UAAU,gBAAhC,mD,QCKD0G,MAlCf,YAAqC,IAAlBC,EAAiB,EAAjBA,eAEf,EAA0B1B,mBAAS,CAC/BpF,MAAO,GACPyG,SAAU,KAFd,mBAAQjC,EAAR,KAAekC,EAAf,KAOD,SAASC,EAAalB,GAClB,MAAsBA,EAAEK,OAAjBlE,EAAP,EAAOA,KAAM+D,EAAb,EAAaA,MACbe,EAAQ,2BAAIlC,GAAL,kBAAY5C,EAAO+D,KAS7B,OACI,sBAAKxF,UAAU,QAAf,UACI,oBAAIA,UAAU,eAAd,gFACA,uBAAMA,UAAU,mBAAmB8E,SAT3C,SAAsBQ,GAClBA,EAAEC,iBACF,IAAQ1F,EAAoBwE,EAApBxE,MAAOyG,EAAajC,EAAbiC,SACfK,EAAe,CAAC9G,QAAOyG,cAMnB,UACI,uBAAOtG,UAAU,eAAeyF,YAAY,QAAQrF,KAAK,QAAQqB,KAAK,QAAQ+D,MAAOnB,EAAKxE,MAAO6F,SAAUc,IAC3G,uBAAOxG,UAAU,eAAeyF,YAAY,uCAASrF,KAAK,WAAWqB,KAAK,WAAW+D,MAAOnB,EAAKiC,SAAUZ,SAAUc,IACrH,wBAAQpG,KAAK,SAASJ,UAAU,gBAAhC,0HACA,qBAAIA,UAAU,iBAAd,kIAAqD,cAAC,IAAD,CAAMA,UAAU,cAAc4G,GAAG,WAAjC,sD,QCnBtDC,EATQ,SAAC,GAAsC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,6BAC3D,OACE,cAAC,IAAD,UACG,kBACCA,EAAMC,SAAW,cAACH,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUJ,GAAG,iBCPpDM,EAAW,gCAElBC,EAAgB,SAAChE,GAAD,OAAcA,EAASC,GAAKD,EAASE,OAASC,QAAQC,OAAR,gDAA0BJ,EAASM,UCFxF,MAA0B,uCCA1B,MAA0B,yCCqB1B2D,MAff,YAA8C,IAAzBzE,EAAwB,EAAxBA,QAASiC,EAAe,EAAfA,OAAQyC,EAAO,EAAPA,KAClC,OACI,qBAAKrH,UAAS,gBAAW4E,GAAU,gBAAnC,SACI,sBAAK5E,UAAU,mBAAf,UACI,wBAAQI,KAAK,SAASJ,UAAU,sBAAsBK,QAASsC,EAA/D,SACI,qBAAK1C,IAAK2C,EAAezC,IAAI,6HAAyBH,UAAU,wBAEpE,qBAAKA,UAAU,kBAAkBC,IAAKoH,EAAOC,EAAeC,EAAiBpH,IAAKkH,EAAO,4EAAkB,wHAC3G,oBAAIrH,UAAW,sBAAf,SAAsCqH,EAAO,qMAA4C,gLCgM1FG,MA3Lf,WACI,MAA4DvC,oBAAS,GAArE,mBAAOwC,EAAP,KAA+BC,EAA/B,KACA,EAAsDzC,oBAAS,GAA/D,mBAAO0C,EAAP,KAA4BC,EAA5B,KACA,EAA0D3C,oBAAS,GAAnE,mBAAO4C,EAAP,KAA8BC,EAA9B,KACA,EAAwC7C,mBAAS,MAAjD,mBAAO8C,EAAP,KAAqBC,EAArB,KACA,EAAsC/C,mBAAS,IAA/C,mBAAOnE,EAAP,KAAoBmH,EAApB,KACA,EAA0BhD,mBAAS,IAAnC,mBAAOjD,EAAP,KAAckG,EAAd,KACA,EAAgCjD,mBAAS,MAAzC,mBAAOgC,EAAP,KAAiBkB,EAAjB,KACA,EAAwBlD,oBAAS,GAAjC,mBAAOoC,EAAP,KAAae,EAAb,KACA,EAAgDnD,oBAAS,GAAzD,mBAAOoD,GAAP,KAAyBC,GAAzB,KACA,GAA0BrD,mBAAS,IAAnC,qBAAOpF,GAAP,MAAc0I,GAAd,MAEAlD,qBAAU,WACN/B,QAAQkF,IAAI,CAAC3F,EAAI4F,kBAAmB5F,EAAI6F,mBACvC7E,MAAK,YAAuB,IAAD,mBAApBQ,EAAoB,KAAdsE,EAAc,KACxBT,EAAS7D,GACT4D,EAAeU,MAElBC,MAAMC,MACR,IAEHxD,qBAAU,YA+GV,WACI,IAAMtC,EAAQ+F,aAAaC,QAAQ,SAC/BhG,GJ9Hc,SAACA,GACvB,OAAOW,MAAM,GAAD,OAAIwD,EAAJ,aAAyB,CACnCjD,OAAQ,MACRN,QAAS,CACP,eAAgB,mBAChB,+BAA4BZ,MAG/Bc,KAAKsD,GIuHE6B,CAAgBjG,GACfc,MAAK,SAAAoF,GACFV,GAASU,EAAI5E,KAAKxE,OAClBsI,GAAY,MAEfS,MAAMC,IAtHXK,KACD,IAEH7D,qBAAU,WACH4B,GACCkC,GAAQC,KAAK,OAElB,CAACnC,IAGN,IAAMkC,GAAUE,cAEVR,GAAc,SAACS,GAAD,OAAWC,QAAQD,MAAMA,IAuB3C,SAASE,KACL1B,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,EAAgB,MAmGtB,OACI,cAAC1H,EAAmBmJ,SAApB,CAA6BjE,MAAQ1E,EAArC,SACC,sBAAKd,UAAU,OAAf,UACG,cAAC,EAAD,CAAkB4E,OAAQ6C,EAAwB9E,QAAS6G,GAAgBxE,aA3EjF,YAAyC,IAAdvD,EAAa,EAAbA,KAAKW,EAAQ,EAARA,MAC5BS,EAAI6G,kBAAkBjI,EAAMW,GAC3ByB,MAAK,SAAAQ,GACF4D,EAAe5D,GACfmF,QAEDZ,MAAMC,OAsEP,cAAC,EAAD,CAAejE,OAAQ+C,EAAqBhF,QAAS6G,GAAgB1H,WA1D3E,SAA8BpB,GAC1BmC,EAAI8G,QAAQjJ,GACXmD,MAAK,SAAA+F,GACF1B,EAAS,CAAC0B,GAAF,mBAAc5H,KACtBwH,QAEDZ,MAAMC,OAqDP,cAAC,EAAD,CAAYnI,KAAMqH,EAAcpF,QAAS6G,KACzC,cAAC,EAAD,CAAiB5E,OAAQiD,EAAuBlF,QAAS6G,GAAgB3D,eArE/E,SAA4BnE,GACxBmB,EAAIgH,aAAanI,GAChBmC,MAAK,SAAAQ,GACF4D,EAAe5D,GACfmF,QAEDZ,MAAMC,OAgEP,cAAC,EAAD,CAAYlG,QAtGlB,WACI2F,IAAoB,GAChBjB,GACA8B,GAAQC,KAAK,aAmGuBxE,OAAQyD,GAAkBhB,KAAMA,IACtE,eAAC,IAAD,WACA,cAAC,EAAD,CAAgByC,OAAK,EAACC,KAAK,IAAI9C,SAAUA,EAAUF,UAAWnF,EAAMC,cA7F1E,WACI6F,GAA0B,IA4FmF5F,WAzFjH,WACI8F,GAAuB,IAwFuH7F,aAjGlJ,WACI+F,GAAyB,IAgG0JnH,YArFvL,SAAyBD,GACrBsH,EAAgBtH,IAoFiME,WA9HvN,SAAwBF,GAGtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAG3D2B,EAAImH,qBAAqBtJ,EAAKQ,IAAKE,GAClCyC,MAAK,SAAC+F,GACH1B,GAAS,SAAC+B,GAAD,OAAWA,EAAM3H,KAAI,SAAC4H,GAAD,OAAOA,EAAEhJ,MAAQR,EAAKQ,IAAM0I,EAAUM,WAEvEtB,MAAMC,KAoH0OhI,aArInP,SAA0BH,GACpBmC,EAAIsH,YAAYzJ,EAAKQ,KAEpB2C,MAAK,WAAOqE,GAAS,SAAC+B,GAAD,OAAWA,EAAMG,QAAO,SAACF,GAAD,OAAOA,EAAEhJ,MAAQR,EAAKQ,aACnE0H,MAAMC,KAiIsQ7G,MAAOA,EAAOC,aA3C/R,WACIsG,GAAS,IACTJ,GAAY,GACZW,aAAauB,WAAW,UAwC+RxK,MAAOA,KAC5T,eAAC,IAAD,CAAOkK,KAAK,WAAZ,UACM,cAAC,EAAD,CAAQlK,MAAO,GAAIE,kBAdP,kBAAMoJ,GAAQC,KAAK,aAcwBtJ,QAAQ,mCAC/D,cAAC,EAAD,CAAU6G,eA3BtB,aJhKoB,SAAC9G,EAAOyG,GAC9B,OAAO5C,MAAM,GAAD,OAAIwD,EAAJ,WAAuB,CACjCjD,OAAQ,OACRN,QAAS,CACP,eAAgB,oBAElBO,KAAMC,KAAKC,UAAU,CAACvE,QAAOyG,eAE9BzC,KAAKsD,IIyJA6B,CADuC,EAAlBnJ,MAAkB,EAAXyG,UAE3BzC,MAAK,WACFyE,IAAoB,MAEvBM,OAAM,SAAC0B,GACJf,QAAQD,MAAMgB,GACdhC,IAAoB,GACpBF,GAAQ,YAqBR,eAAC,IAAD,CAAO2B,KAAK,WAAZ,UACI,cAAC,EAAD,CAAQlK,MAAO,GAAIE,kBAjBJ,kBAAMoJ,GAAQC,KAAK,aAiBwBtJ,QAAQ,uEAClE,cAAC,EAAD,CAAOuG,YA7DnB,YAAyC,IAAnBxG,EAAkB,EAAlBA,MAAOyG,EAAW,EAAXA,UJtHR,SAACzG,EAAOyG,GAC7B,OAAO5C,MAAM,GAAD,OAAIwD,EAAJ,WAAuB,CACjCjD,OAAQ,OACRN,QAAS,CACP,eAAgB,oBAElBO,KAAMC,KAAKC,UAAU,CAACvE,QAAOyG,eAE9BzC,KAAKsD,II+GF6B,CAAenJ,EAAOyG,GACrBzC,MAAK,SAAAQ,GACF,IAAOtB,EAASsB,EAATtB,MACP+F,aAAayB,QAAQ,QAASxH,GAC9BoF,GAAY,GACZI,GAAS1I,MAEZ+I,MAAMC,aA0DL,cAAC,EAAD,UC5LK2B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB7G,MAAK,YAAkD,IAA/C8G,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.321938c1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\nimport '../styles/Login.css';\r\n\r\nfunction Header({email, caption, handleHeaderClick}) {\r\n\r\n    return (\r\n        <header className=\"header\">\r\n              <img src={logo} alt=\"Картинка логотипа\" className=\"header__logo\"/>\r\n              <div className=\"header__user\">\r\n                <span className=\"header__email\">{email}</span>\r\n                <button type=\"button\" className='header__button'  onClick={handleHeaderClick} >{caption}</button>\r\n              </div>\r\n              \r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/edit-button.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/plus.d86bb2ed.svg\";","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    \r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = (\r\n    `element__delete ${isOwn ? 'element_visible' : ''}`\r\n    );\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n    const cardLikeButtonClassName = (\r\n        `element__like ${isLiked ? 'element__like_active' : ''}`\r\n        );\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n      } \r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    }  \r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <article className=\"element\">\r\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n            <img className=\"element__image\" alt={card ? card.name : ''} src={card.link} onClick={handleClick}/>\r\n            <div className=\"element__caption\">\r\n                <h2 className=\"element__title\">{card.name}</h2>\r\n                <div className=\"element__sign\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} ></button>\r\n                    <p className=\"element__like-numbers\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </article>     \r\n    )\r\n}\r\nexport default Card","import React from 'react';\r\nimport editButtonPath from '../images/edit-button.svg';\r\nimport addButtonPath from '../images/plus.svg';\r\nimport Card from '../components/Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Header from './Header';\r\n\r\n\r\nfunction Main({onEditProfile, onAddPlace , onEditAvatar, onCardClick, onCardLike, onCardDelete, cards, handleLogout, email}) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n      <>\r\n        <Header email={email} handleHeaderClick={handleLogout} caption='Выйти'/>\r\n        <main className=\"main\">\r\n              <section className=\"profile\">\r\n                      <div className=\"profile__avatar\">\r\n                          <img src={currentUser.avatar} alt=\"Картинка профиля\" className=\"profile__avatar-image\"/>\r\n                          <img onClick={onEditAvatar} src={editButtonPath} alt=\"Картинка при наведении\" className=\"profile__avatar-hover\"/>\r\n                      </div>\r\n                      <div className=\"profile__info\">\r\n                        <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                        <button onClick={onEditProfile} type=\"button\" className=\"profile__edit-button\">\r\n                          <img src={editButtonPath} alt=\"картинка добавить текст\" className=\"profile__edit-button-image\"/>\r\n                        </button>\r\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                      </div> \r\n                      <button onClick={onAddPlace} type=\"button\" className=\"profile__add-button\">\r\n                          <img src={addButtonPath} alt=\"иконка кнопки\" className=\"profile__add-button-image\"/>\r\n                      </button>       \r\n              </section>\r\n              <section className=\"elements\">\r\n                  {cards.map((card) => (<Card key={card._id} onCardClick={onCardClick} card={card} onCardLike={onCardLike} onCardDelete={onCardDelete}/>))} \r\n              </section>\r\n        </main>\r\n      </>  \r\n    )\r\n};\r\n\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n                <p className=\"footer__author\">&copy;{new Date().getFullYear()} Mesto Russia</p>\r\n        </footer>\r\n    )\r\n};\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/Close-Icon.a004a2d5.svg\";","import closeIconPath from '../images/Close-Icon.svg';\r\nfunction ImagePopup({card, onClose}) {\r\n    return (\r\n        <div className={`popup popup_image ${card && 'popup_opened'}`}>\r\n                <div className=\"popup__big-picture\">\r\n                    <img src={card?.link} alt={card?.name} className=\"popup__picture\" />\r\n                    <h2 className=\"popup__caption\">{card ? card.name : ''}</h2>\r\n                    <button className=\"popup__close-button\" onClick={onClose}>\r\n                        <img src={closeIconPath} alt=\"картинка закрытия окна\" className=\"popup__close-icon\"/>\r\n                    </button>\r\n                </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ImagePopup;","export class Api {\r\n    constructor({adress, token}) {\r\n        this._adress = adress;\r\n        this._token = token;\r\n    }\r\n\r\n    _getResponseData(response) {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка ${response.status}`))\r\n    }\r\n\r\n    getProfileInfo() {\r\n        return fetch(`${this._adress}/users/me`, {\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        }).then(this._getResponseData)\r\n    }\r\n\r\n    changeProfileInfo(profileName, profileAbout) {\r\n        return fetch(`${this._adress}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              name: profileName,\r\n              about: profileAbout\r\n            })\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n\r\n    getInitialCards() {\r\n        return  fetch(`${this._adress}/cards`,{\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        }).then(this._getResponseData)\r\n    }\r\n\r\n    addCard(data) {\r\n        return fetch(`${this._adress}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization:this._token,\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n\r\n    removeCards(id) {\r\n        return  fetch(`${this._adress}/cards/${id}`,{\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._token\r\n            }\r\n        })\r\n        .then(this._getResponseData)  \r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        return fetch(`${this._adress}/cards/likes/${cardId}`, {\r\n            method: isLiked ? 'DELETE' : 'PUT',\r\n            headers: {\r\n                authorization:this._token\r\n            }\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n\r\n    updateAvatar(avatarLink) {\r\n        return fetch(`${this._adress}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              avatar: avatarLink\r\n            })\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n}\r\n\r\nconst api = new Api({adress:'https://mesto.nomoreparties.co/v1/cohort-22', token:'3df83bef-b96a-43f8-aaa6-dee5c669d99f'});\r\n\r\nexport default api","import closeIconPath from '../images/Close-Icon.svg';\r\n \r\nfunction PopupWithForm({title, name, children, isOpen, onClose, buttonText, onSubmit}) {\r\n\r\n    return (\r\n        <div className={`popup popup_${name} ${isOpen && 'popup_opened'}`}>\r\n            <form name={name} className=\"popup__container\" onSubmit={onSubmit} >\r\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}>\r\n                    <img src={closeIconPath} alt=\"картинка закрытия окна\" className=\"popup__close-icon\"/>\r\n                </button>\r\n                <h2 className=\"popup__title\">{title}</h2>\r\n                {children}\r\n                <button type=\"submit\" className=\"popup__button\">{buttonText}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React, { useState, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    // После загрузки текущего пользователя из API\r\n    // его данные будут использованы в управляемых компонентах.\r\n    useEffect(() => {\r\n        if(currentUser.about && currentUser.name) {\r\n            setName(currentUser.name);\r\n            setDescription(currentUser.about);\r\n          }\r\n    }, [currentUser, isOpen]); \r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n      }\r\n    \r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n      }\r\n\r\n    function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title=\"Редактировать профиль\" name=\"edit\" isOpen={isOpen}  onClose={onClose} buttonText='Сохранить' onSubmit={handleSubmit} >\r\n                <input name='Author' value={name} type=\"text\" id= \"author-input\" className=\"popup__input popup__input_text_name\" placeholder='Автор' onChange={handleNameChange}/>\r\n                <span className=\"popup__error author-input-error\"></span>\r\n                <input name='Profile' value={description} type=\"text\" id= \"profile-input\" className=\"popup__input popup__input_text_about-yourself\" placeholder='О себе' onChange={handleDescriptionChange}/>\r\n                <span className=\"popup__error profile-input-error\"></span> \r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React, { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n    \r\n    const avatarRef = useRef(); \r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(\r\n              avatarRef.current.value/* Значение инпута, полученное с помощью рефа */,\r\n        );\r\n        avatarRef.current.value=\"\";\r\n    }\r\n    \r\n\r\n    return (\r\n        <PopupWithForm title=\"Обновить аватар\" name=\"avatar\" isOpen={isOpen} onClose={onClose} buttonText='Сохранить' onSubmit={handleSubmit} >\r\n                <input name=\"Link\" type=\"url\" id= \"avatar-input\" className=\"popup__input popup__input_text_about-yourself\" placeholder=\"Ссылка на картинку\" ref={avatarRef}/>\r\n                <span className=\"popup__error avatar-input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n    \r\n    const [name, setName] = useState('');\r\n    const [link, setLink] = useState('');\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n      }\r\n    \r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value);\r\n      }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n              name: name,\r\n              link: link\r\n    });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title=\"Новое место\" name=\"add\" isOpen={isOpen} onClose={onClose} buttonText='Создать' onSubmit={handleSubmit} >\r\n                <input name=\"Name\" type=\"text\" id= \"author-add-input\" className=\"popup__input popup__input_text_name\" placeholder=\"Название\" onChange={handleNameChange} />\r\n                <span className=\"popup__error author-add-input-error\"></span>\r\n                <input name=\"Link\" type=\"url\" id= \"profile-add-input\" className=\"popup__input popup__input_text_about-yourself\" placeholder=\"Ссылка на картинку\" onChange={handleLinkChange}/>\r\n                <span className=\"popup__error profile-add-input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React, {useState} from 'react';\r\nimport '../styles/Login.css';\r\n\r\nfunction Login({handleLogin}) {\r\n    const [data, setData] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n    \r\n    function handleChange(e) {\r\n        const {name, value} = e.target;\r\n        setData({...data,\r\n        [name]: value\r\n        });\r\n    }\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        // здесь обрабатываем вход в систему\r\n        if(!data.email || !data.password) {\r\n            return\r\n        }\r\n        const { email, password } = data;\r\n\r\n        handleLogin({ email, password })\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <h1 className=\"login__title\">Вход</h1>\r\n            <form className=\"login__container\" onSubmit={handleSubmit} >\r\n                <input required id=\"email\" className=\"login__input\" type=\"email\" placeholder=\"Email\" name=\"email\" value={data.email} onChange={handleChange}></input>\r\n                <input required id=\"password\" className=\"login__input\" type=\"password\" placeholder=\"Пароль\" name=\"password\" value={data.password} onChange={handleChange}></input>\r\n                <button type=\"submit\" className=\"login__button\">Войти</button>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Login","import React, { useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport '../styles/Login.css'; \r\n\r\nfunction Register({handleRegister}) {\r\n\r\n    const [ data , setData] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n    \r\n\r\n\r\n   function handleChange(e) {\r\n       const {name, value} = e.target;\r\n       setData({...data, [name]: value})\r\n   }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { email, password } = data;\r\n        handleRegister({email, password})\r\n    }\r\n\r\n    return (\r\n        <div className='login'>\r\n            <h1 className='login__title'>Регистрация</h1>\r\n            <form className='login__container' onSubmit={handleSubmit}  >\r\n                <input className='login__input' placeholder='Email' type=\"email\" name=\"email\" value={data.email} onChange={handleChange}></input>\r\n                <input className='login__input' placeholder='Пароль' type=\"password\" name=\"password\" value={data.password} onChange={handleChange}></input>\r\n                <button type=\"submit\" className=\"login__button\">Зарегистрироваться</button>\r\n                <h2 className='login__caption'>Уже зарегистрированы? <Link className='login__link' to=\"/sign-in\">Войти</Link></h2>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Register","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({component: Component, ...props}) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n)};\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (response) => response.ok ? response.json() : Promise.reject(`Ошибка: ${response.status}`)\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then(checkResponse)\r\n  \r\n}\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({email, password})\r\n    })\r\n    .then(checkResponse)\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        \"Authorization\" : `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(checkResponse)\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/wrong-icon.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/sucsess-icon.1b6082f8.svg\";","import React from 'react';\r\nimport '../styles/Login.css';\r\nimport closeIconPath from '../images/Close-Icon.svg';\r\nimport failIconPath from '../images/wrong-icon.svg';\r\nimport sucsessIconPath from '../images/sucsess-icon.svg'\r\n\r\nfunction InfoToolip({onClose, isOpen, fail}) {\r\n    return (\r\n        <div className={`popup ${isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__container\" >\r\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}>\r\n                    <img src={closeIconPath} alt=\"картинка закрытия окна\" className=\"popup__close-icon\"/>\r\n                </button>\r\n                <img className=\"infoToolip__img\" src={fail ? failIconPath : sucsessIconPath} alt={fail ? 'иконка ошибки' : 'иконка подтверждения'} />\r\n                <h2 className= \"infoToolip__caption\">{fail ? 'Что-то пошло не так!Попробуйте ещё раз.' : 'Вы успешно зарегистрировались!'}</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default InfoToolip","import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { Route, Switch, useHistory} from 'react-router-dom';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport ProtectedRoute from './ProtectedRoute'\nimport * as auth from '../utils/auth.js';\nimport InfoToolip from './InfoToolip';\n\n\n\nfunction App() {\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState(null);\n    const [currentUser, setCurrentUser] = useState({});\n    const [cards, setCards] = useState([]);\n    const [loggedIn, setLoggedIn] = useState(null);\n    const [fail, setFail] = useState(false);\n    const [isModalPopupOpen, setisModalPopupOpen] = useState(false);\n    const [email, setEmail] = useState('');\n\n    useEffect(() => {\n        Promise.all([api.getInitialCards(), api.getProfileInfo()])\n        .then(([data, userData]) => {\n            setCards(data);\n            setCurrentUser(userData);\n        })\n        .catch(handleError)\n    }, []);\n\n    useEffect(() => {\n        checkToken()\n    }, [])\n\n    useEffect(() => {\n        if(loggedIn) {\n            history.push('/')\n        }\n    }, [loggedIn])\n\n\n  const history = useHistory();\n\n  const handleError = (error) => console.error(error); \n\n  function handleCardDelete(card) {\n        api.removeCards(card._id)\n        // удаляем карточку \n        .then(() => {setCards((state) => state.filter((c) => c._id !== card._id))})\n        .catch(handleError)\n  }\n\n  function handleCardLike(card) {\n\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch(handleError)\n  }\n    \n    \n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard(null)\n        \n    }\n\n    function closeModalPopup() {\n        setisModalPopupOpen(false)\n        if(!fail) {\n            history.push('/sign-in')\n        }\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true)\n    }\n    \n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true)\n    }\n    \n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true)\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function handleUpdateUser({name,about}) {\n        api.changeProfileInfo(name, about)\n        .then(data => {\n            setCurrentUser(data);\n            closeAllPopups()\n          })\n          .catch(handleError)\n    }\n\n    function handleUpdateAvatar(link) {\n        api.updateAvatar(link)\n        .then(data => {\n            setCurrentUser(data);\n            closeAllPopups()\n          })\n          .catch(handleError)\n    }\n\n    function handleAddPlaceSubmit(card) {\n        api.addCard(card)\n        .then(newCard => {\n            setCards([newCard, ...cards]);\n            closeAllPopups()\n          })\n          .catch(handleError)\n    }\n\n    function handleLogin({email, password}) {\n        auth.authorize(email, password)\n        .then(data => {\n            const {token} = data; \n            localStorage.setItem('token', token)\n            setLoggedIn(true)\n            setEmail(email)\n        })\n        .catch(handleError)\n    }\n\n    function handleLogout() {\n        setEmail('')\n        setLoggedIn(false)\n        localStorage.removeItem('token')\n    }\n\n    function checkToken() {\n        const token = localStorage.getItem('token')\n        if (token) {\n            auth.getContent(token)\n            .then(res => {\n                setEmail(res.data.email)\n                setLoggedIn(true)\n            })\n            .catch(handleError)\n        }\n    }\n\n\n    function handleRegister({email, password}) {\n        auth.register(email, password)\n        .then(() => {\n            setisModalPopupOpen(true)\n        })\n        .catch((err) => {\n            console.error(err)\n            setisModalPopupOpen(true)\n            setFail(true)\n        });\n    }\n\n    const navigateToEnter = () => history.push('/sign-in');\n    const navigateToRegister = () => history.push('/sign-up');\n    \n  return (\n      <CurrentUserContext.Provider value= {currentUser}>   \n       <div className=\"page\">\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <InfoToolip onClose={closeModalPopup} isOpen={isModalPopupOpen} fail={fail}/>\n          <Switch>        \n          <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} onCardLike={handleCardLike} onCardDelete={handleCardDelete} cards={cards} handleLogout={handleLogout} email={email}/>\n          <Route path=\"/sign-up\">\n                <Header email={\"\"} handleHeaderClick={navigateToEnter} caption='Войти'/>\n                <Register handleRegister={handleRegister}/>\n            </Route>\n            <Route path=\"/sign-in\"> \n                <Header email={\"\"} handleHeaderClick={navigateToRegister} caption='Регистрация'/> \n                <Login handleLogin={handleLogin} />\n            </Route>\n                \n            \n          </Switch>\n          <Footer />  \n        </div>\n       </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom'; // импортируем BrowserRouter\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}